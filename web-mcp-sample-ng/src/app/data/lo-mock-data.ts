import { Device, AuditLog, DeviceMessage } from '../models/device.model';

export const MOCK_DEVICES: Device[] = [
  {
    id: 'urn:lo:nsid:mqtt:sensor-temp-paris-01',
    name: 'Capteur Température Paris-01',
    group: '/parc-paris/batiment-a/rdc',
    tags: ['temperature', 'indoor', 'paris'],
    type: 'MQTT',
    status: { connectivity: { value: 'OFFLINE', since: '2026-02-28T14:23:11Z' } },
    interfaces: [{ connector: 'mqtt', nodeId: 'sensor-temp-paris-01' }],
    properties: { firmware: '2.1.4', model: 'ST-100', location: 'Paris, Bâtiment A, RDC' },
    lastSeen: '2026-02-28T14:23:11Z',
    created: '2024-06-15T09:00:00Z',
  },
  {
    id: 'urn:lo:nsid:mqtt:sensor-hum-lyon-03',
    name: 'Capteur Humidité Lyon-03',
    group: '/parc-lyon/site-b',
    tags: ['humidity', 'outdoor', 'lyon'],
    type: 'MQTT',
    status: { connectivity: { value: 'ONLINE', since: '2026-03-01T07:12:00Z' } },
    interfaces: [{ connector: 'mqtt', nodeId: 'sensor-hum-lyon-03' }],
    properties: { firmware: '2.1.4', model: 'SH-200', location: 'Lyon, Site B, Externe' },
    lastSeen: '2026-03-01T10:45:00Z',
    created: '2024-08-20T11:30:00Z',
  },
  {
    id: 'urn:lo:nsid:lora:gw-bordeaux-lora-01',
    name: 'Gateway LoRa Bordeaux-01',
    group: '/parc-bordeaux',
    tags: ['gateway', 'lora', 'bordeaux'],
    type: 'LORA',
    status: { connectivity: { value: 'ONLINE', since: '2026-03-01T00:00:00Z' } },
    interfaces: [{ connector: 'lora', nodeId: 'gw-bordeaux-lora-01' }],
    properties: { firmware: '3.0.1', model: 'GW-LR8', location: 'Bordeaux, Tour Alpha' },
    lastSeen: '2026-03-01T10:50:00Z',
    created: '2023-11-01T08:00:00Z',
  },
  {
    id: 'urn:lo:nsid:mqtt:actuator-door-nice-07',
    name: 'Actionneur Porte Nice-07',
    group: '/parc-nice/entree-principale',
    tags: ['actuator', 'door', 'nice'],
    type: 'MQTT',
    status: { connectivity: { value: 'OFFLINE', since: '2026-02-25T09:00:00Z' } },
    interfaces: [{ connector: 'mqtt', nodeId: 'actuator-door-nice-07' }],
    properties: { firmware: '1.8.2', model: 'AC-DRV3', location: 'Nice, Entrée Principale' },
    lastSeen: '2026-02-25T09:00:00Z',
    created: '2025-01-10T14:00:00Z',
  },
  {
    id: 'urn:lo:nsid:lwm2m:tracker-fleet-002',
    name: 'Tracker Flotte Véhicule-002',
    group: '/flotte/vehicules',
    tags: ['gps', 'fleet', 'vehicle'],
    type: 'LWM2M',
    status: { connectivity: { value: 'ONLINE', since: '2026-03-01T08:30:00Z' } },
    interfaces: [{ connector: 'lwm2m', nodeId: 'tracker-fleet-002' }],
    properties: { firmware: '4.2.0', model: 'TRK-GPS-V2', location: 'Mobile' },
    lastSeen: '2026-03-01T10:52:00Z',
    created: '2025-03-01T10:00:00Z',
  },
];

export const MOCK_AUDIT_LOGS: Record<string, AuditLog[]> = {
  'urn:lo:nsid:mqtt:sensor-temp-paris-01': [
    { id: 'log-001', timestamp: '2026-02-28T14:23:11Z', type: 'DEVICE_CONNECTION', level: 'ERROR',
      message: 'Connection refused: bad username or password',
      details: { errorCode: 'MQTT_AUTH_FAILED', connector: 'mqtt', clientId: 'sensor-temp-paris-01', reason: 'API key invalid or revoked' } },
    { id: 'log-002', timestamp: '2026-02-28T14:20:05Z', type: 'DEVICE_CONNECTION', level: 'ERROR',
      message: 'Connection refused: bad username or password',
      details: { errorCode: 'MQTT_AUTH_FAILED', connector: 'mqtt', clientId: 'sensor-temp-paris-01', reason: 'API key invalid or revoked' } },
    { id: 'log-003', timestamp: '2026-02-28T14:15:00Z', type: 'DEVICE_CONNECTION', level: 'INFO',
      message: 'Device disconnected (DISCONNECT packet received)',
      details: { errorCode: 'MQTT_DISCONNECT_NORMAL', connector: 'mqtt', clientId: 'sensor-temp-paris-01' } },
    { id: 'log-004', timestamp: '2026-02-28T10:00:00Z', type: 'DEVICE_CONNECTION', level: 'INFO',
      message: 'Device connected successfully',
      details: { errorCode: null, connector: 'mqtt', clientId: 'sensor-temp-paris-01' } },
  ],
  'urn:lo:nsid:mqtt:actuator-door-nice-07': [
    { id: 'log-010', timestamp: '2026-02-25T09:00:00Z', type: 'DEVICE_CONNECTION', level: 'ERROR',
      message: 'TLS handshake failed: certificate expired',
      details: { errorCode: 'TLS_CERTIFICATE_EXPIRED', connector: 'mqtt', clientId: 'actuator-door-nice-07', certExpiry: '2026-02-24T23:59:59Z' } },
    { id: 'log-011', timestamp: '2026-02-25T08:58:00Z', type: 'DEVICE_CONNECTION', level: 'ERROR',
      message: 'TLS handshake failed: certificate expired',
      details: { errorCode: 'TLS_CERTIFICATE_EXPIRED', connector: 'mqtt', clientId: 'actuator-door-nice-07', certExpiry: '2026-02-24T23:59:59Z' } },
    { id: 'log-012', timestamp: '2026-02-24T23:55:00Z', type: 'DEVICE_CONNECTION', level: 'INFO',
      message: 'Device connected successfully',
      details: { errorCode: null, connector: 'mqtt', clientId: 'actuator-door-nice-07' } },
  ],
  'urn:lo:nsid:mqtt:sensor-hum-lyon-03': [
    { id: 'log-020', timestamp: '2026-03-01T10:45:00Z', type: 'DEVICE_MESSAGE', level: 'INFO',
      message: 'Data message received',
      details: { topic: 'dev/v1/data/new', payloadSize: 128 } },
    { id: 'log-021', timestamp: '2026-03-01T07:12:00Z', type: 'DEVICE_CONNECTION', level: 'INFO',
      message: 'Device connected successfully',
      details: { errorCode: null, connector: 'mqtt', clientId: 'sensor-hum-lyon-03' } },
  ],
  'urn:lo:nsid:lora:gw-bordeaux-lora-01': [
    { id: 'log-030', timestamp: '2026-03-01T10:50:00Z', type: 'DEVICE_MESSAGE', level: 'INFO',
      message: 'LoRa uplink received',
      details: { devEUI: 'A1B2C3D4E5F60007', rssi: -85, snr: 8.5 } },
  ],
  'urn:lo:nsid:lwm2m:tracker-fleet-002': [
    { id: 'log-040', timestamp: '2026-03-01T10:52:00Z', type: 'DEVICE_MESSAGE', level: 'INFO',
      message: 'LwM2M registration update',
      details: { lt: 3600, binding: 'U' } },
    { id: 'log-041', timestamp: '2026-03-01T08:30:00Z', type: 'DEVICE_CONNECTION', level: 'INFO',
      message: 'LwM2M device registered',
      details: { endpoint: 'tracker-fleet-002', lt: 3600 } },
  ],
};

export const MOCK_MESSAGES: Record<string, DeviceMessage[]> = {
  'urn:lo:nsid:mqtt:sensor-temp-paris-01': [
    { id: 'msg-001', timestamp: '2026-02-28T14:14:50Z', streamId: 'dev/v1/data/new', value: { temperature: 21.3, unit: 'celsius', battery: 78 } },
    { id: 'msg-002', timestamp: '2026-02-28T14:09:50Z', streamId: 'dev/v1/data/new', value: { temperature: 21.1, unit: 'celsius', battery: 78 } },
  ],
  'urn:lo:nsid:mqtt:sensor-hum-lyon-03': [
    { id: 'msg-010', timestamp: '2026-03-01T10:45:00Z', streamId: 'dev/v1/data/new', value: { humidity: 65.4, unit: 'percent', battery: 92 } },
  ],
  'urn:lo:nsid:lwm2m:tracker-fleet-002': [
    { id: 'msg-020', timestamp: '2026-03-01T10:52:00Z', streamId: 'dev/v1/data/new', value: { latitude: 48.8566, longitude: 2.3522, speed: 42, altitude: 35 } },
  ],
  'urn:lo:nsid:lora:gw-bordeaux-lora-01': [],
  'urn:lo:nsid:mqtt:actuator-door-nice-07': [],
};
